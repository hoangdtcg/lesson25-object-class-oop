<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student</title>
</head>

<body>
    <script>
        //ES6 - đã hỗ trợ từ khóa class
        class Student {
            constructor(_name, _grade, _gender) {
                this.name = _name;
                this.grade = _grade;
                this.gender = _gender;

                this.mathScore = 0;
                this.liteScore = 0;
                this.englishScore = 0;

            }



            setScore(_mathScore, _liteScore, _englishScore) {
                this.mathScore = _mathScore;
                this.liteScore = _liteScore;
                this.englishScore = _englishScore;
            }

            getAvg() {
                let avg = (this.mathScore + this.liteScore + this.englishScore) / 3;
                return avg.toFixed(2);
            }

            displayInfo() {
                let info = this.name + " có điểm trung bình là " + this.getAvg() + ", xếp hạng " + this.getClasify();
                alert(info);
            }

            getClasify() {
                let avg = this.getAvg();
                let clasifies = ['Xuất sắc', 'Giỏi', 'Khá', "Trung Bình", "Kém"]
                let rating = 0;

                if (avg >= 9) {
                    rating = 0;
                } else if (avg >= 8) {
                    rating = 1;
                } else if (avg >= 6.5) {
                    rating = 2;
                } else if (avg >= 5) {
                    rating = 3;
                } else {
                    rating = 4;
                }

                return clasifies[rating];
            }
        }

        let hieu = new Student("Hiếu", 7, "Nam");
        // hieu.setScore(9, 3, 5);
        // hieu.displayInfo();

        /// ES5 - Không có từ khóa class - không có let

        // let Student2 = function(_name, _grade, _gender) {
        //     this.name = _name;
        //     this.grade = _grade;
        //     this.gender = _gender;

        //     function getAvg() {
        //         let avg = (this.mathScore + this.liteScore + this.englishScore) / 3;
        //         return avg.toFixed(2);
        //     }
        // }

        // let ninh = new Student2("Ninh", 13, "Nữ")

        let lam = new Student();
        console.log(lam);


        function createStudents(number) {
            let first = ["Trần", "Nguyễn", " Đỗ", "Phạm"];
            let mid = ["Thị", "Văn", "Ngọc", "Minh"]
            let last = ["Ninh", "Hiếu", "Tú", "Phúc", "Lâm", "Quang", "Nhi", "Hoàng", "Phát", "Mỹ"]

            let students = [];
            for (let i = 0; i < number; i++) {
                let f = Math.floor(Math.random() * first.length);
                let m = Math.floor(Math.random() * mid.length);
                let l = Math.floor(Math.random() * last.length);
                let name = first[f] + " " + mid[m] + " " + last[l];
                let grade = Math.floor(Math.random() * 10);
                let gender = (Math.random() > 0.5) ? "Nam" : "Nữ";

                let student = new Student(name, grade, gender);
                students.push(student);

            }

            console.log(students);
        }

        createStudents(5);
    </script>
</body>

</html>